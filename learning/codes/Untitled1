<?php

namespace ShowSuite\Http\Requests;

use ShowSuite\Http\Requests\Request;
use ShowSuite\Models\Fields\AmpFields;
use ShowSuite\Models\Fields\AmpProfileFields;

class AmpProfileRequest extends Request
{

    /**
     * Determine if the user is authorized to make this request.
     *
     * @return bool
     */
    public function authorize()
    {
        return true;
    }

    /**
     * Get the validation rules that apply to the request.
     *
     * @return array
     */
    public function rules()
    {
        $regex = "/^(?=.+)(?:[1-9]\d*|0)?(?:\.\d+)?$/";

        return [
            AmpFields::NAME => 'required|max:90',
            AmpFields::EMAIL => 'required|max:90',
            AmpFields::PHONE1 => 'required|max:90',
            AmpFields::ADDRESS => 'required|max:90',
            AmpProfileFields::WEBSITE => 'max:90',
        ];
    }

    public function getParams()
    {
        return $this->getAmpParams() + $this->getProfileParams();
    }

    public function getAmpParams()
    {
        return [
            AmpFields::NAME => $this->get(AmpFields::NAME),
            AmpFields::EMAIL => $this->get(AmpFields::EMAIL),
            AmpFields::PHONE1 => $this->get(AmpFields::PHONE1),
            AmpFields::ADDRESS => $this->get(AmpFields::ADDRESS),
        ];
    }

    public function getProfileParams()
    {
        return [
            AmpProfileFields::ABOUT => $this->get(AmpProfileFields::ABOUT),
            AmpProfileFields::WEBSITE => $this->get(AmpProfileFields::WEBSITE),
        ];
    }

}
